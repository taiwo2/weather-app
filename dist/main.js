(()=>{var e=document.getElementById("location"),t=document.getElementById("temp"),n=document.getElementById("icon"),r=document.getElementById("des"),i=document.getElementById("humidity"),a=document.getElementById("windspeed"),d=document.querySelector("form"),m=document.getElementById("searchbar"),o=document.getElementById("unit-control"),c=document.getElementById("warning"),u=e.innerText.substr(0,e.innerText.length-3);async function s(e="mumbai",t="°C"){try{var n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&appid=610141c99f975bba14f72033833cff4e`,{mode:"cors"});l(await n.json(),t)}catch(e){c.classList.add("show"),setTimeout((()=>{c.classList.remove("show")}),1500),l(u,t)}}function l(d,m){e.innerText=`${d.name}, ${d.sys.country}`,t.innerText=`${function(e,t){return"°C"==e?Math.round(t.main.temp):Math.round(1.8*t.main.temp)+32}(m,d)} ${m}`,r.innerText=d.weather[0].main,n.style.background=`url(https://openweathermap.org/img/wn/${d.weather[0].icon}@2x.png) center no-repeat, linear-gradient(rgba(255, 255, 255, 0.5),rgba(255, 255, 255, 0.5))`,a.innerText=d.wind.speed+" mph",i.innerText=d.main.humidity+" %"}window.addEventListener("load",(()=>{s()})),d.addEventListener("submit",(e=>{e.preventDefault();var t="°C"==o.innerText?"°F":"°C";s(m.value,t),m.value=""})),o.addEventListener("click",(()=>{s(u=e.innerText.substr(0,e.innerText.length-3),o.innerText),"°F"==o.innerText?o.innerText="°C":o.innerText="°F"}))})();